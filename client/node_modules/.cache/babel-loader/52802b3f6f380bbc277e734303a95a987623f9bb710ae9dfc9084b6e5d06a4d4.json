{"ast":null,"code":"var _s = $RefreshSig$();\n// components/useScrollSnap.js\nimport { useEffect, useRef } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\ngsap.registerPlugin(ScrollToPlugin);\nexport default function useScrollSnap({\n  selector = \"section\",\n  duration = 0.8,\n  deadZone = 0.25,\n  // % of tall section allowed free scroll\n  delayBetweenSnaps = 500\n}) {\n  _s();\n  useEffect(() => {\n    const sections = Array.from(document.querySelectorAll(selector));\n    let currentIndex = 0;\n    let isAnimating = false;\n    let lastSnap = 0;\n    const goToSection = index => {\n      if (index < 0 || index >= sections.length) return;\n      isAnimating = true;\n      currentIndex = index;\n      gsap.to(window, {\n        scrollTo: sections[index].offsetTop,\n        duration,\n        ease: \"power2.out\",\n        onComplete: () => {\n          isAnimating = false;\n          lastSnap = Date.now();\n        }\n      });\n    };\n    const onWheel = e => {\n      if (isAnimating) return;\n      if (Date.now() - lastSnap < delayBetweenSnaps) return;\n      const scrollY = window.scrollY;\n      const viewportHeight = window.innerHeight;\n\n      // find which section we’re in\n      let index = 0;\n      for (let i = 0; i < sections.length; i++) {\n        if (scrollY >= sections[i].offsetTop) index = i;\n      }\n      currentIndex = index;\n      const currentSection = sections[index];\n      const elTop = currentSection.offsetTop;\n      const elHeight = currentSection.offsetHeight;\n      const elBottom = elTop + elHeight;\n      const delta = e.deltaY;\n\n      // handle tall section free scroll\n      if (elHeight > viewportHeight) {\n        const freeTop = elTop + elHeight * deadZone;\n        const freeBottom = elBottom - viewportHeight * deadZone;\n        if (scrollY < freeTop && delta < 0) {\n          // near top and scrolling up\n          goToSection(index - 1);\n          e.preventDefault();\n          return;\n        }\n        if (scrollY > freeBottom && delta > 0) {\n          // near bottom and scrolling down\n          goToSection(index + 1);\n          e.preventDefault();\n          return;\n        }\n\n        // inside free zone: let normal scrolling happen\n        return;\n      }\n\n      // non-tall sections: snap immediately\n      if (delta > 0) {\n        goToSection(index + 1);\n        e.preventDefault();\n      } else if (delta < 0) {\n        goToSection(index - 1);\n        e.preventDefault();\n      }\n    };\n\n    // initialise index to current section\n    const scrollY = window.scrollY;\n    for (let i = 0; i < sections.length; i++) {\n      if (scrollY >= sections[i].offsetTop) currentIndex = i;\n    }\n    window.addEventListener(\"wheel\", onWheel, {\n      passive: false\n    });\n    return () => {\n      window.removeEventListener(\"wheel\", onWheel);\n    };\n  }, [selector, duration, deadZone, delayBetweenSnaps]);\n}\n_s(useScrollSnap, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","useRef","gsap","ScrollToPlugin","registerPlugin","useScrollSnap","selector","duration","deadZone","delayBetweenSnaps","_s","sections","Array","from","document","querySelectorAll","currentIndex","isAnimating","lastSnap","goToSection","index","length","to","window","scrollTo","offsetTop","ease","onComplete","Date","now","onWheel","e","scrollY","viewportHeight","innerHeight","i","currentSection","elTop","elHeight","offsetHeight","elBottom","delta","deltaY","freeTop","freeBottom","preventDefault","addEventListener","passive","removeEventListener"],"sources":["C:/Users/georg/projects/Fullstack/portofolio-2.0/client/src/components/useScrollSnap.js"],"sourcesContent":["// components/useScrollSnap.js\r\nimport { useEffect, useRef } from \"react\";\r\nimport { gsap } from \"gsap\";\r\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\r\n\r\ngsap.registerPlugin(ScrollToPlugin);\r\n\r\nexport default function useScrollSnap({\r\n  selector = \"section\",\r\n  duration = 0.8,\r\n  deadZone = 0.25,       // % of tall section allowed free scroll\r\n  delayBetweenSnaps = 500\r\n}) {\r\n  useEffect(() => {\r\n    const sections = Array.from(document.querySelectorAll(selector));\r\n    let currentIndex = 0;\r\n    let isAnimating = false;\r\n    let lastSnap = 0;\r\n\r\n    const goToSection = (index) => {\r\n      if (index < 0 || index >= sections.length) return;\r\n      isAnimating = true;\r\n      currentIndex = index;\r\n\r\n      gsap.to(window, {\r\n        scrollTo: sections[index].offsetTop,\r\n        duration,\r\n        ease: \"power2.out\",\r\n        onComplete: () => {\r\n          isAnimating = false;\r\n          lastSnap = Date.now();\r\n        }\r\n      });\r\n    };\r\n\r\n    const onWheel = (e) => {\r\n      if (isAnimating) return;\r\n      if (Date.now() - lastSnap < delayBetweenSnaps) return;\r\n\r\n      const scrollY = window.scrollY;\r\n      const viewportHeight = window.innerHeight;\r\n\r\n      // find which section we’re in\r\n      let index = 0;\r\n      for (let i = 0; i < sections.length; i++) {\r\n        if (scrollY >= sections[i].offsetTop) index = i;\r\n      }\r\n\r\n      currentIndex = index;\r\n\r\n      const currentSection = sections[index];\r\n      const elTop = currentSection.offsetTop;\r\n      const elHeight = currentSection.offsetHeight;\r\n      const elBottom = elTop + elHeight;\r\n\r\n      const delta = e.deltaY;\r\n\r\n      // handle tall section free scroll\r\n      if (elHeight > viewportHeight) {\r\n        const freeTop = elTop + elHeight * deadZone;\r\n        const freeBottom = elBottom - viewportHeight * deadZone;\r\n\r\n        if (scrollY < freeTop && delta < 0) {\r\n          // near top and scrolling up\r\n          goToSection(index - 1);\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n\r\n        if (scrollY > freeBottom && delta > 0) {\r\n          // near bottom and scrolling down\r\n          goToSection(index + 1);\r\n          e.preventDefault();\r\n          return;\r\n        }\r\n\r\n        // inside free zone: let normal scrolling happen\r\n        return;\r\n      }\r\n\r\n      // non-tall sections: snap immediately\r\n      if (delta > 0) {\r\n        goToSection(index + 1);\r\n        e.preventDefault();\r\n      } else if (delta < 0) {\r\n        goToSection(index - 1);\r\n        e.preventDefault();\r\n      }\r\n    };\r\n\r\n    // initialise index to current section\r\n    const scrollY = window.scrollY;\r\n    for (let i = 0; i < sections.length; i++) {\r\n      if (scrollY >= sections[i].offsetTop) currentIndex = i;\r\n    }\r\n\r\n    window.addEventListener(\"wheel\", onWheel, { passive: false });\r\n\r\n    return () => {\r\n      window.removeEventListener(\"wheel\", onWheel);\r\n    };\r\n  }, [selector, duration, deadZone, delayBetweenSnaps]);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}