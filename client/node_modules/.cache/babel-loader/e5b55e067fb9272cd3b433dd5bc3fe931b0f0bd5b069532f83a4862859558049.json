{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { gsap } from 'gsap';\nimport { ScrollToPlugin } from 'gsap/ScrollToPlugin';\ngsap.registerPlugin(ScrollToPlugin);\nexport default function useSmartScrollSnap({\n  selector = 'section',\n  duration = 0.8,\n  // how long the scroll animation lasts\n  threshold = 0.2,\n  // how much of the next section must be visible to snap\n  deadZone = 0.3 // free scroll zone for tall sections\n}) {\n  _s();\n  useEffect(() => {\n    let timeout;\n    const sections = Array.from(document.querySelectorAll(selector));\n    const scrollToY = y => {\n      gsap.to(window, {\n        scrollTo: y,\n        duration,\n        ease: 'power2.out'\n      });\n    };\n    const onScroll = () => {\n      if (timeout) clearTimeout(timeout);\n      timeout = setTimeout(() => {\n        const scrollY = window.scrollY;\n        const viewportHeight = window.innerHeight;\n        let snapTarget = null;\n        for (let i = 0; i < sections.length; i++) {\n          const el = sections[i];\n          const rect = el.getBoundingClientRect();\n          const elTop = rect.top + scrollY;\n          const elHeight = el.offsetHeight;\n          const elBottom = elTop + elHeight;\n\n          // --- Special handling: Hero → About ---\n          if (i === 0 && scrollY > elBottom - viewportHeight * threshold) {\n            var _sections;\n            // jumped past hero → snap to section 2\n            snapTarget = (_sections = sections[i + 1]) === null || _sections === void 0 ? void 0 : _sections.offsetTop;\n            break;\n          }\n          if (elHeight <= viewportHeight) {\n            // normal sections\n            if (scrollY + viewportHeight * threshold >= elTop && scrollY + viewportHeight * threshold < elBottom) {\n              snapTarget = elTop; // snap to this section top\n              break;\n            }\n          } else {\n            // tall section handling with deadZone\n            const deadZoneTop = elTop + elHeight * deadZone;\n            const deadZoneBottom = elBottom - viewportHeight * deadZone;\n            if (scrollY < deadZoneTop) {\n              snapTarget = elTop; // near top of tall section → snap top\n              break;\n            } else if (scrollY > deadZoneBottom) {\n              // near bottom of tall section → snap to next\n              if (sections[i + 1]) {\n                snapTarget = sections[i + 1].offsetTop;\n              }\n              break;\n            }\n            // else inside dead zone → do nothing (free scroll)\n          }\n        }\n        if (snapTarget !== null) {\n          scrollToY(snapTarget);\n        }\n      }, 100); // debounce\n    };\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll);\n  }, [selector, duration, threshold, deadZone]);\n}\n_s(useSmartScrollSnap, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","gsap","ScrollToPlugin","registerPlugin","useSmartScrollSnap","selector","duration","threshold","deadZone","_s","timeout","sections","Array","from","document","querySelectorAll","scrollToY","y","to","window","scrollTo","ease","onScroll","clearTimeout","setTimeout","scrollY","viewportHeight","innerHeight","snapTarget","i","length","el","rect","getBoundingClientRect","elTop","top","elHeight","offsetHeight","elBottom","_sections","offsetTop","deadZoneTop","deadZoneBottom","addEventListener","removeEventListener"],"sources":["C:/Users/georg/projects/Fullstack/portofolio-2.0/client/src/components/useScrollSnap.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { gsap } from 'gsap';\r\nimport { ScrollToPlugin } from 'gsap/ScrollToPlugin';\r\n\r\ngsap.registerPlugin(ScrollToPlugin);\r\n\r\nexport default function useSmartScrollSnap({\r\n  selector = 'section',\r\n  duration = 0.8,        // how long the scroll animation lasts\r\n  threshold = 0.2,       // how much of the next section must be visible to snap\r\n  deadZone = 0.3         // free scroll zone for tall sections\r\n}) {\r\n  useEffect(() => {\r\n    let timeout;\r\n    const sections = Array.from(document.querySelectorAll(selector));\r\n\r\n    const scrollToY = (y) => {\r\n      gsap.to(window, {\r\n        scrollTo: y,\r\n        duration,\r\n        ease: 'power2.out'\r\n      });\r\n    };\r\n\r\n    const onScroll = () => {\r\n      if (timeout) clearTimeout(timeout);\r\n\r\n      timeout = setTimeout(() => {\r\n        const scrollY = window.scrollY;\r\n        const viewportHeight = window.innerHeight;\r\n\r\n        let snapTarget = null;\r\n\r\n        for (let i = 0; i < sections.length; i++) {\r\n          const el = sections[i];\r\n          const rect = el.getBoundingClientRect();\r\n          const elTop = rect.top + scrollY;\r\n          const elHeight = el.offsetHeight;\r\n          const elBottom = elTop + elHeight;\r\n\r\n          // --- Special handling: Hero → About ---\r\n          if (\r\n            i === 0 &&\r\n            scrollY > elBottom - viewportHeight * threshold\r\n          ) {\r\n            // jumped past hero → snap to section 2\r\n            snapTarget = sections[i + 1]?.offsetTop;\r\n            break;\r\n          }\r\n\r\n          if (elHeight <= viewportHeight) {\r\n            // normal sections\r\n            if (\r\n              scrollY + viewportHeight * threshold >= elTop &&\r\n              scrollY + viewportHeight * threshold < elBottom\r\n            ) {\r\n              snapTarget = elTop; // snap to this section top\r\n              break;\r\n            }\r\n          } else {\r\n            // tall section handling with deadZone\r\n            const deadZoneTop = elTop + elHeight * deadZone;\r\n            const deadZoneBottom = elBottom - viewportHeight * deadZone;\r\n\r\n            if (scrollY < deadZoneTop) {\r\n              snapTarget = elTop; // near top of tall section → snap top\r\n              break;\r\n            } else if (scrollY > deadZoneBottom) {\r\n              // near bottom of tall section → snap to next\r\n              if (sections[i + 1]) {\r\n                snapTarget = sections[i + 1].offsetTop;\r\n              }\r\n              break;\r\n            }\r\n            // else inside dead zone → do nothing (free scroll)\r\n          }\r\n        }\r\n\r\n        if (snapTarget !== null) {\r\n          scrollToY(snapTarget);\r\n        }\r\n      }, 100); // debounce\r\n    };\r\n\r\n    window.addEventListener('scroll', onScroll);\r\n    return () => window.removeEventListener('scroll', onScroll);\r\n  }, [selector, duration, threshold, deadZone]);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}